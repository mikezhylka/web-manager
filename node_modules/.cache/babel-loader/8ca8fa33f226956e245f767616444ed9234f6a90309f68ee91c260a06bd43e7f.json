{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ja\\\\projektprojekt\\\\superprojekt\\\\src\\\\pages\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { fetchTasks, createTask, updateTask } from '../services/Api';\nimport { useNavigate } from 'react-router-dom';\nimport '../styles/Dashboard.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst userDepartment = 'IT'; // Przykładowy dział przypisany do użytkownika\n\nconst Dashboard = () => {\n  _s();\n  const [tasks, setTasks] = useState([]);\n  const [newTask, setNewTask] = useState('');\n  const [newDeadline, setNewDeadline] = useState('');\n  const navigate = useNavigate();\n\n  // Pobieranie zadań\n  useEffect(() => {\n    const loadTasks = async () => {\n      const data = await fetchTasks();\n      setTasks(data);\n    };\n    loadTasks();\n  }, []);\n\n  // Dodawanie nowego zadania\n  const handleAddTask = async () => {\n    if (newTask.trim() === '' || newDeadline === '') return;\n    const result = await createTask({\n      title: newTask,\n      date: newDeadline,\n      department: userDepartment,\n      status: 'todo'\n    });\n    if (result.success) {\n      setTasks(prevTasks => [...prevTasks, result.task]);\n      setNewTask('');\n      setNewDeadline('');\n    }\n  };\n\n  // Aktualizacja statusu zadania\n  const handleUpdateTaskStatus = async (taskId, newStatus) => {\n    const task = tasks.find(t => t.id === taskId);\n    if (!task) return;\n    const updatedTask = {\n      ...task,\n      status: newStatus\n    };\n    const result = await updateTask(taskId, updatedTask);\n    if (result.success) {\n      setTasks(prevTasks => prevTasks.map(t => t.id === taskId ? result.task : t));\n    }\n  };\n\n  // Filtrowanie zadań według działu i statusu\n  const filterTasks = (department, status) => {\n    return tasks.filter(task => task.department === department && task.status === status);\n  };\n\n  // Nawigacja do szczegółów zadania\n  const handleViewTaskDetails = id => {\n    navigate(`/task/${id}`);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"kanban-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Tablica Kanban - \", userDepartment]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"add-task\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: newTask,\n        onChange: e => setNewTask(e.target.value),\n        placeholder: \"Nowe zadanie\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: newDeadline,\n        onChange: e => setNewDeadline(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleAddTask,\n        children: \"Dodaj\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"kanban-board\",\n      children: ['todo', 'in-progress', 'done'].map(status => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"kanban-column\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: status === 'todo' ? 'Do zrobienia' : status === 'in-progress' ? 'W trakcie' : 'Zakończone'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this), filterTasks(userDepartment, status).map(task => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"kanban-task\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: task.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Deadline: \", new Date(task.date).toLocaleDateString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"task-actions\",\n            children: [status !== 'done' && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleUpdateTaskStatus(task.id, status === 'todo' ? 'in-progress' : 'done'),\n              children: status === 'todo' ? 'Rozpocznij' : 'Zakończ'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleViewTaskDetails(task.id),\n              children: \"Szczeg\\xF3\\u0142y\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 17\n          }, this)]\n        }, task.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 15\n        }, this))]\n      }, status, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"7NSIAwkHX3pG2KudgPlORLhcq8E=\", false, function () {\n  return [useNavigate];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useEffect","useState","fetchTasks","createTask","updateTask","useNavigate","jsxDEV","_jsxDEV","userDepartment","Dashboard","_s","tasks","setTasks","newTask","setNewTask","newDeadline","setNewDeadline","navigate","loadTasks","data","handleAddTask","trim","result","title","date","department","status","success","prevTasks","task","handleUpdateTaskStatus","taskId","newStatus","find","t","id","updatedTask","map","filterTasks","filter","handleViewTaskDetails","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","placeholder","onClick","Date","toLocaleDateString","_c","$RefreshReg$"],"sources":["C:/Users/ja/projektprojekt/superprojekt/src/pages/Dashboard.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { fetchTasks, createTask, updateTask } from '../services/Api';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport '../styles/Dashboard.css';\r\n\r\nconst userDepartment = 'IT'; // Przykładowy dział przypisany do użytkownika\r\n\r\nconst Dashboard = () => {\r\n  const [tasks, setTasks] = useState([]);\r\n  const [newTask, setNewTask] = useState('');\r\n  const [newDeadline, setNewDeadline] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  // Pobieranie zadań\r\n  useEffect(() => {\r\n    const loadTasks = async () => {\r\n      const data = await fetchTasks();\r\n      setTasks(data);\r\n    };\r\n\r\n    loadTasks();\r\n  }, []);\r\n\r\n  // Dodawanie nowego zadania\r\n  const handleAddTask = async () => {\r\n    if (newTask.trim() === '' || newDeadline === '') return;\r\n\r\n    const result = await createTask({\r\n      title: newTask,\r\n      date: newDeadline,\r\n      department: userDepartment,\r\n      status: 'todo',\r\n    });\r\n\r\n    if (result.success) {\r\n      setTasks((prevTasks) => [...prevTasks, result.task]);\r\n      setNewTask('');\r\n      setNewDeadline('');\r\n    }\r\n  };\r\n\r\n  // Aktualizacja statusu zadania\r\n  const handleUpdateTaskStatus = async (taskId, newStatus) => {\r\n    const task = tasks.find((t) => t.id === taskId);\r\n    if (!task) return;\r\n\r\n    const updatedTask = { ...task, status: newStatus };\r\n    const result = await updateTask(taskId, updatedTask);\r\n    if (result.success) {\r\n      setTasks((prevTasks) =>\r\n        prevTasks.map((t) => (t.id === taskId ? result.task : t))\r\n      );\r\n    }\r\n  };\r\n\r\n  // Filtrowanie zadań według działu i statusu\r\n  const filterTasks = (department, status) => {\r\n    return tasks.filter(\r\n      (task) => task.department === department && task.status === status\r\n    );\r\n  };\r\n\r\n  // Nawigacja do szczegółów zadania\r\n  const handleViewTaskDetails = (id) => {\r\n    navigate(`/task/${id}`);\r\n  };\r\n\r\n  return (\r\n    <div className=\"kanban-container\">\r\n      <h1>Tablica Kanban - {userDepartment}</h1>\r\n\r\n      {/* Dodawanie nowego zadania */}\r\n      <div className=\"add-task\">\r\n        <input\r\n          type=\"text\"\r\n          value={newTask}\r\n          onChange={(e) => setNewTask(e.target.value)}\r\n          placeholder=\"Nowe zadanie\"\r\n        />\r\n        <input\r\n          type=\"date\"\r\n          value={newDeadline}\r\n          onChange={(e) => setNewDeadline(e.target.value)}\r\n        />\r\n        <button onClick={handleAddTask}>Dodaj</button>\r\n      </div>\r\n\r\n      <div className=\"kanban-board\">\r\n        {/* Kolumny Kanban */}\r\n        {['todo', 'in-progress', 'done'].map((status) => (\r\n          <div key={status} className=\"kanban-column\">\r\n            <h2>\r\n              {status === 'todo'\r\n                ? 'Do zrobienia'\r\n                : status === 'in-progress'\r\n                ? 'W trakcie'\r\n                : 'Zakończone'}\r\n            </h2>\r\n            {filterTasks(userDepartment, status).map((task) => (\r\n              <div key={task.id} className=\"kanban-task\">\r\n                <p>{task.title}</p>\r\n                <p>Deadline: {new Date(task.date).toLocaleDateString()}</p>\r\n                <div className=\"task-actions\">\r\n                  {status !== 'done' && (\r\n                    <button\r\n                      onClick={() =>\r\n                        handleUpdateTaskStatus(\r\n                          task.id,\r\n                          status === 'todo' ? 'in-progress' : 'done'\r\n                        )\r\n                      }\r\n                    >\r\n                      {status === 'todo' ? 'Rozpocznij' : 'Zakończ'}\r\n                    </button>\r\n                  )}\r\n                  {/* Przycisk do szczegółów */}\r\n                  <button onClick={() => handleViewTaskDetails(task.id)}>\r\n                    Szczegóły\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}